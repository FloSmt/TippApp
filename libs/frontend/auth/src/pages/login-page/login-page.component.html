<ion-content class="ion-padding">
  <custom-header title="Anmelden" subTitle="Melde dich an, um zu Tippen" [showButtonSection]="false"
                 [centerTitle]="true"></custom-header>
  <form [formGroup]="loginForm" class="form-input" (ngSubmit)="onLogin()">
    <custom-input
      [errorMessage]="getErrorMessage('email')"
      autocomplete="email"
      data-testid="input-email"
      formControlName="email"
      label="Email"
      type="email">
    </custom-input>
    <custom-input
      [errorMessage]="getErrorMessage('password')"
      data-testid="input-password"
      autocomplete="current-password"
      formControlName="password"
      label="Password"
      type="password"
      [enablePasswordToggle]="true"
    >
    </custom-input>
    <ion-button
      type="submit"
      [disabled]="disableLogin()"
      color="primary"
      data-testid="login-button"
      expand="block"
      id="login-button"
      size="large">
      <ion-label>
        @if (isLoading()) {
          <ion-spinner></ion-spinner>
        } @else {
          Anmelden
        }
      </ion-label>
    </ion-button>
    <div class="link-to-register">
      <ion-button (click)="navigateToRegisterPage()" data-testid="switch-to-register-button" fill="clear">
        Noch keinen Account?
      </ion-button>
    </div>
  </form>
</ion-content>

